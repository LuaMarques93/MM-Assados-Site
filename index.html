<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MM Assados - Sinop</title>
    <link rel="icon" href="imagens/FAVIOFC.png" type="image/png">
    <link rel="stylesheet" href="styles.css">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <!-- Alerta de Adição ao Carrinho -->
    <div id="alert-container" class="alert-container" style="display: none;">
        <div class="alert-message">
            <span id="alert-text"></span>
            <button class="close-alert" onclick="closeAlert()">✕</button>
        </div>
    </div>
    
    <header>
        <div class="header-content">
            <div class="logo">
                <img src="imagens/logo.png" alt="Logo Frangos Assados">
            </div>
            <div class="header-text">
                <h1>MM - Assados Sinop/MT</h1>
                <p>Qualidade e sabor em um só pedaço!</p>
            </div>
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="#comboSection">Combo</a></li>
            <li><a href="#menuSection">Nosso Menu</a></li>
            <li><a href="#acompanhamentosSection">Acompanhamentos</a></li>
            <li><a href="#bebidasSection">Bebidas</a></li>
        </ul>
    </nav>

    <div class="main-container">
        <section id="comboSection">
            <h2>Combo</h2>
            <div class="combo-container">
                <div class="combo-item" data-name="Combo Tradicional" data-price="50.00">
                    <img src="imagens/4.jpg" alt="Combo Tradicional">
                    <div class="combo-item-text">
                        <h3>Combo Tradicional</h3>
                        <p>Frango Assado Tradicional + 2 Acompanhamentos à sua escolha + 1 Bebida.</p>
                        <span>R$50,00</span>
                        <button class="add-to-cart btn btn-primary" onclick="selectAcompanhamentos('Combo Tradicional', 50)">Adicionar ao Carrinho</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Modal de Acompanhamentos e Bebidas -->
        <div class="modal fade" id="acompanhamentosModal" tabindex="-1" aria-labelledby="acompanhamentosModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="acompanhamentosModalLabel">Selecione 2 Acompanhamentos e 1 Bebida</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form id="acompanhamentosForm">
                            <div>
                                <label>Acompanhamentos:</label>
                                <div>
                                    <input type="checkbox" id="arroz" name="acompanhamento" value="Arroz">
                                    <label for="arroz">Arroz</label>
                                </div>
                                <div>
                                    <input type="checkbox" id="farofa" name="acompanhamento" value="Farofa">
                                    <label for="farofa">Farofa</label>
                                </div>
                                <div>
                                    <input type="checkbox" id="maionese" name="acompanhamento" value="Maionese">
                                    <label for="maionese">Maionese</label>
                                </div>
                            </div>
                            <div>
                                <label>Bebidas:</label>
                                <div>
                                    <input type="radio" id="cocaCola" name="bebida" value="Coca Cola">
                                    <label for="cocaCola">Coca Cola</label>
                                </div>
                                <div>
                                    <input type="radio" id="guarana" name="bebida" value="Guaraná">
                                    <label for="guarana">Guaraná</label>
                                </div>
                                <div>
                                    <input type="radio" id="agua" name="bebida" value="Água">
                                    <label for="agua">Água</label>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                        <button type="button" class="btn btn-primary" onclick="confirmAcompanhamentos()">Confirmar</button>
                    </div>
                </div>
            </div>
        </div>

        <section id="menuSection">
            <h2>Nosso Menu</h2>
            <div class="menu-container">
                <div class="menu-item" data-name="Frango Assado Tradicional" data-price="30.00">
                    <img src="imagens/1.jpeg" alt="Frango Assado Tradicional">
                    <div class="menu-item-text">
                        <h3>Frango Assado Tradicional</h3>
                        <p>Sabor clássico, temperado com ervas finas e assado lentamente.</p>
                        <span>R$30,00</span>
                        <button class="add-to-cart btn btn-primary" onclick="addToCart('Frango Assado Tradicional', 30)">Adicionar ao Carrinho</button>
                    </div>
                </div>
                <div class="menu-item" data-name="Frango Assado Picante" data-price="35.00">
                    <img src="imagens/1.jpeg" alt="Frango Assado Picante">
                    <div class="menu-item-text">
                        <h3>Frango Assado Picante</h3>
                        <p>Para os amantes de um sabor mais intenso, temperado com pimenta especial.</p>
                        <span>R$35,00</span>
                        <button class="add-to-cart btn btn-primary" onclick="addToCart('Frango Assado Picante', 35)">Adicionar ao Carrinho</button>
                    </div>
                </div>
                <div class="menu-item" data-name="Frango Assado com Ervas" data-price="32.00">
                    <img src="imagens/1.jpeg" alt="Frango Assado com Ervas">
                    <div class="menu-item-text">
                        <h3>Frango Assado com Ervas</h3>
                        <p>Temperado com uma combinação de ervas frescas e especiarias.</p>
                        <span>R$32,00</span>
                        <button class="add-to-cart btn btn-primary" onclick="addToCart('Frango Assado com Ervas', 32)">Adicionar ao Carrinho</button>
                    </div>
                </div>
            </div>
        </section>

        <section id="acompanhamentosSection">
            <h2>Acompanhamentos</h2>
            <div class="menu-container">
                <div class="menu-item" data-name="Arroz" data-price="10.00">
                    <img src="imagens/Arroz.jpg" alt="Arroz">
                    <div class="menu-item-text">
                        <h3>Arroz</h3>
                        <p>Arroz branco soltinho.</p>
                        <span>R$10,00</span>
                        <button class="add-to-cart btn btn-primary" onclick="addToCart('Arroz', 10)">Adicionar ao Carrinho</button>
                    </div>
                </div>
                <div class="menu-item" data-name="Farofa" data-price="12.00">
                    <img src="imagens/Farofa.jpg" alt="Farofa">
                    <div class="menu-item-text">
                        <h3>Farofa</h3>
                        <p>Farofa crocante com bacon e cebola.</p>
                        <span>R$12,00</span>
                        <button class="add-to-cart btn btn-primary" onclick="addToCart('Farofa', 12)">Adicionar ao Carrinho</button>
                    </div>
                </div>
                <div class="menu-item" data-name="Maionese" data-price="15.00">
                    <img src="imagens/Maionese.jpg" alt="Maionese">
                    <div class="menu-item-text">
                        <h3>Maionese</h3>
                        <p>Maionese de batata com cenoura e ervilha.</p>
                        <span>R$15,00</span>
                        <button class="add-to-cart btn btn-primary" onclick="addToCart('Maionese', 15)">Adicionar ao Carrinho</div>
                </div>
            </div>
        </section>

        <section id="bebidasSection">
            <h2>Bebidas</h2>
            <div class="menu-container">
                <div class="menu-item" data-name="Coca Cola" data-price="5.00">
                    <img src="imagens/coca1.5.jpg" alt="Coca Cola">
                    <div class="menu-item-text">
                        <h3>Coca Cola</h3>
                        <p>Refrigerante de cola.</p>
                        <span>R$5,00</span>
                        <button class="add-to-cart btn btn-primary" onclick="addToCart('Coca Cola', 5)">Adicionar ao Carrinho</button>
                    </div>
                </div>
                <div class="menu-item" data-name="Guaraná" data-price="5.00">
                    <img src="imagens/guarana1.5.jpg" alt="Guaraná">
                    <div class="menu-item-text">
                        <h3>Guaraná</h3>
                        <p>Refrigerante de guaraná.</p>
                        <span>R$5,00</span>
                        <button class="add-to-cart btn btn-primary" onclick="addToCart('Guaraná', 5)">Adicionar ao Carrinho</button>
                    </div>
                </div>
                <div class="menu-item" data-name="Água" data-price="3.00">
                    <img src="imagens/agua500ml.jpg" alt="Água">
                    <div class="menu-item-text">
                        <h3>Água</h3>
                        <p>Água mineral.</p>
                        <span>R$3,00</span>
                        <button class="add-to-cart btn btn-primary" onclick="addToCart('Água', 3)">Adicionar ao Carrinho</button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <footer>
        <p>&copy; 2024 MM Assados - Sinop/MT. Todos os direitos reservados.</p>
    </footer>

    <!-- Botão para abrir o carrinho e outros botões -->
    <button class="back-to-top" onclick="scrollToTop()">Voltar ao Topo</button>
    <button id="openCartModal" class="btn btn-primary cart-button">
        Ir para o Carrinho (<span id="cart-count">0</span>)
    </button>
    <button class="whatsapp-contact" onclick="contactWhatsApp()">
        <img src="imagens/whats.png" alt="WhatsApp" class="whatsapp-icon">
        Fale Conosco
    </button>

    <!-- Modal do Carrinho -->
    <div class="modal fade" id="cartModal" tabindex="-1" aria-labelledby="cartModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cartModalLabel">Seu Carrinho de Compras</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <ul id="cart-items-modal" class="list-group">
                        <!-- Itens do carrinho serão adicionados aqui via JavaScript -->
                    </ul>
                    <div class="total-container mt-3">
                        <strong>Subtotal:</strong> R$<span id="subtotal-modal">0.00</span><br>
                        <strong>Total:</strong> R$<span id="total-modal">0.00</span>
                    </div>
                    <div class="mt-3">
                        <button class="btn btn-primary" onclick="openCheckoutModal()">Finalizar Pedido</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Checkout -->
    <div class="modal fade" id="checkoutModal" tabindex="-1" aria-labelledby="checkoutModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="checkoutModalLabel">Informações de Entrega e Pagamento</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="checkoutForm">
                        <label for="name">Nome:</label>
                        <input type="text" id="name" name="name" required class="form-control">
                        <label for="phone">Telefone:</label>
                        <input type="tel" id="phone" name="phone" required class="form-control">
                        <label for="address">Endereço:</label>
                        <input type="text" id="address" name="address" required class="form-control">
                        <label for="payment-method">Forma de Pagamento:</label>
                        <select id="payment-method" class="form-select">
                            <option value="pix">Pix</option>
                            <option value="credito">Cartão de Crédito</option>
                            <option value="debito">Cartão de Débito</option>
                            <option value="dinheiro">Dinheiro</option>
                        </select>
                        <div id="troco-section" style="display:none;">
                            <label for="troco">Troco para:</label>
                            <input type="number" id="troco" name="troco" class="form-control">
                        </div>
                        <div class="payment-methods">
                            <img src="imagens/PIX.png" alt="Pix">
                            <img src="imagens/visa.png" alt="Cartão de Crédito">
                            <img src="imagens/master.png" alt="Cartão de Débito">
                        </div>
                        <label for="additional-info">Informações adicionais:</label>
                        <textarea id="additional-info" name="additional-info" rows="3" class="form-control"></textarea>
                        <button type="button" class="btn btn-primary mt-3" onclick="finalizeOrder()">Enviar Pedido</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        let cart = [];
        let selectedCombo = null;

        function addToCart(name, price, isCombo = false) {
            if (isCombo) {
                selectedCombo = { name, price };
                const modal = new bootstrap.Modal(document.getElementById('acompanhamentosModal'));
                modal.show();
            } else {
                const itemIndex = cart.findIndex(item => item.name === name);
                if (itemIndex > -1) {
                    cart[itemIndex].quantity += 1;
                } else {
                    const item = { name, price: parseFloat(price), quantity: 1 };
                    cart.push(item);
                }
                renderCart();
                renderCartModal();
                showConfirmation(name);
                updateCartCount();
            }
        }

        function selectAcompanhamentos(name, price) {
            selectedCombo = { name, price };
            const modal = new bootstrap.Modal(document.getElementById('acompanhamentosModal'));
            modal.show();
        }

        function confirmAcompanhamentos() {
            const form = document.getElementById('acompanhamentosForm');
            const selectedAcompanhamentos = Array.from(form.elements.acompanhamento)
                .filter(checkbox => checkbox.checked)
                .map(checkbox => checkbox.value);

            const selectedBebida = form.elements.bebida.value;

            if (selectedAcompanhamentos.length !== 2 || !selectedBebida) {
                alert('Por favor, selecione 2 acompanhamentos e 1 bebida.');
                return;
            }

            const comboName = `${selectedCombo.name} com ${selectedAcompanhamentos.join(' e ')} e ${selectedBebida}`;
            addToCart(comboName, selectedCombo.price);
            selectedCombo = null;

            const modalElement = document.getElementById('acompanhamentosModal');
            const bootstrapModal = bootstrap.Modal.getInstance(modalElement);
            if (bootstrapModal) {
                bootstrapModal.hide();
            }
        }

        function renderCart() {
            const cartItems = document.getElementById('cart-items');
            if (cartItems) {
                cartItems.innerHTML = '';
                let subtotal = 0;

                cart.forEach((item, index) => {
                    const li = document.createElement('li');
                    li.classList.add('cart-item');
                    li.innerHTML = `${item.quantity}x ${item.name} - R$${item.price.toFixed(2)} 
                        <button class="remove-from-cart" onclick="removeFromCart(${index})">Remover</button>`;
                    cartItems.appendChild(li);
                    subtotal += item.price * item.quantity;
                });

                document.getElementById('subtotal').textContent = subtotal.toFixed(2);
                document.getElementById('total').textContent = subtotal.toFixed(2);
            }
        }

        function renderCartModal() {
            const cartItemsModal = document.getElementById('cart-items-modal');
            if (cartItemsModal) {
                cartItemsModal.innerHTML = '';
                let subtotal = 0;

                cart.forEach((item, index) => {
                    const li = document.createElement('li');
                    li.classList.add('list-group-item');
                    li.innerHTML = `${item.quantity}x ${item.name} - R$${item.price.toFixed(2)} 
                        <button class="remove-from-cart btn btn-link text-danger" onclick="removeFromCart(${index})">Remover</button>`;
                    cartItemsModal.appendChild(li);
                    subtotal += item.price * item.quantity;
                });

                document.getElementById('subtotal-modal').textContent = subtotal.toFixed(2);
                document.getElementById('total-modal').textContent = subtotal.toFixed(2);
            }
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            renderCart();
            renderCartModal();
            updateCartCount();
        }

        function finalizeOrder() {
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const address = document.getElementById('address').value;
            const paymentMethod = document.getElementById('payment-method').value;
            const troco = paymentMethod === 'dinheiro' ? document.getElementById('troco').value : '';
            const additionalInfo = document.getElementById('additional-info').value;

            if (!name || !phone || !address || (paymentMethod === 'dinheiro' && !troco)) {
                alert('Por favor, preencha todos os campos obrigatórios.');
                return;
            }

            let message = `Olá, gostaria de fazer um pedido:\n\n`;

            cart.forEach(item => {
                message += `${item.quantity}x ${item.name} - R$${item.price.toFixed(2)}\n`;
            });

            const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            const total = subtotal.toFixed(2);

            message += `\nSubtotal: R$${subtotal.toFixed(2)}`;
            message += `\nTotal: R$${total}`;
            message += `\n\nNome: ${name}`;
            message += `\nTelefone: ${phone}`;
            message += `\nEndereço: ${address}`;
            message += `\nForma de Pagamento: ${paymentMethod}`;
            if (paymentMethod === 'dinheiro') {
                message += `\nTroco para: R$${parseFloat(troco).toFixed(2)}`;
            }
            message += `\nInformações adicionais: ${additionalInfo}`;

            const whatsappUrl = `https://api.whatsapp.com/send?phone=5566999043248&text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        function showConfirmation(name) {
            const alertContainer = document.getElementById('alert-container');
            const alertText = document.getElementById('alert-text');

            alertText.textContent = `${name} foi adicionado ao carrinho!`;
            alertContainer.style.display = 'flex';
            alertContainer.style.opacity = '1';

            setTimeout(() => {
                alertContainer.style.opacity = '0';
                setTimeout(() => {
                    alertContainer.style.display = 'none';
                }, 500);
            }, 2000);
        }

        function closeAlert() {
            const alertContainer = document.getElementById('alert-container');
            alertContainer.style.opacity = '0';
            setTimeout(() => {
                alertContainer.style.display = 'none';
            }, 500);
        }

        function updateCartCount() {
            const cartCount = cart.reduce((total, item) => total + item.quantity, 0);
            document.getElementById('cart-count').textContent = cartCount;
        }

        document.getElementById('payment-method').addEventListener('change', function() {
            const trocoSection = document.getElementById('troco-section');
            if (this.value === 'dinheiro') {
                trocoSection.style.display = 'block';
            } else {
                trocoSection.style.display = 'none';
            }
        });

        document.getElementById('openCartModal').addEventListener('click', () => {
            renderCartModal();
            new bootstrap.Modal(document.getElementById('cartModal')).show();
        });

        function contactWhatsApp() {
            const whatsappUrl = 'https://wa.me/5566999043248';
            window.open(whatsappUrl, '_blank');
        }

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        function openCheckoutModal() {
            const checkoutModal = new bootstrap.Modal(document.getElementById('checkoutModal'));
            checkoutModal.show();
        }
    </script>
</body>
</html>
